"use strict";const i=require("../../common/vendor.js"),o={data(){return{scanResult:""}},onLoad(){this.scanCode()},methods:{scanCode(){let e=this;i.wx$1.scanCode({success:s=>{console.log("scanCode: success"+JSON.stringify(s));let t=decodeURIComponent(s.path);e.scanResult=t;let n=e.getPageParams(t),a=e.getPageName(t);console.log("scanCode params: "+JSON.stringify(n)),console.log("scanCode pageName: "+JSON.stringify(a)),n&&n.buildingId&&n.scene?a=="/signIn"?i.index.redirectTo({url:"/pages/register/signIn?buildingId="+n.buildingId+"&scene="+n.scene}):a=="/register"?i.index.redirectTo({url:"/pages/register/register?buildingId="+n.buildingId+"&scene="+n.scene}):e.scanCode():e.scanCode()},fail:s=>{console.log("scanCode: fail"+JSON.stringify(s)),e.scanResult="",i.index.navigateBack()},complete:()=>{}})},getPageParams(e){if(e&&e!=""){let s=e.indexOf("?");return s==-1&&(s=0),e.substring(s+1,e.length).split("&").map(n=>n.split("=")).reduce((n,a)=>{const[r,c]=a;return n[r]=c,n},{})}else return null},getPageName(e){let s=e.indexOf("?"),t=e.lastIndexOf("/");return t>=0?s>0?e.substring(t,s):e:s>0?e.substring(s):e}}};function d(e,s,t,n,a,r){return{}}const g=i._export_sfc(o,[["render",d],["__file","D:/HBuilderProjects/house/pages/register/scan.vue"]]);wx.createPage(g);
