"use strict";const a=require("../../../../../common/vendor.js"),f=require("./z-paging-config.js"),s=require("../config/index.js"),l="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let i=null;function _(e,n){if(!i)if(s.zLocalConfig&&Object.keys(s.zLocalConfig).length)i=s.zLocalConfig;else{const o=f.zConfig.getConfig();f.zConfig&&o&&(i=o)}if(!i)return n;const t=i[Y(e)];return t===void 0?n:t}function $(e){let n=null;if(e.touches&&e.touches.length)n=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)n=e.changedTouches[0];else if(e.datail&&e.datail!={})n=e.datail;else return{touchX:0,touchY:0};return{touchX:n.clientX,touchY:n.clientY}}function m(e){if(e&&e.tagName&&e.tagName!=="BODY"&&e.tagName!=="UNI-PAGE-BODY"){const n=e.classList;return n&&n.contains("z-paging-content")?{isFromZp:!0,isPageScroll:n.contains("z-paging-content-page"),isReachedTop:n.contains("z-paging-reached-top")}:m(e.parentNode)}else return{isFromZp:!1}}function d(e){return e?e.$refs.paging?e:d(e.$parent):null}function z(e){console.error(`[z-paging]${e}`)}function D(e,n){const t=h()||{};t[n]=e,a.index.setStorageSync(l,t)}function h(){return a.index.getStorageSync(l)}function F(e){const n=h();return n&&n[e]?n[e]:null}function N(e,n){const t=F(e),o=t?b(t,n):n.none;return`${n.title}${o}`}function P(e){if(Object.prototype.toString.call(e)==="[object Number]")return e;let t=!1;return e.indexOf("rpx")!==-1||e.indexOf("upx")!==-1?(e=e.replace("rpx","").replace("upx",""),t=!0):e.indexOf("px")!==-1&&(e=e.replace("px","")),isNaN(e)?0:Number(t?a.index.upx2px(e):e)}function p(){return new Date().getTime()}function S(){const e=[],n="0123456789abcdef";for(let t=0;t<10;t++)e[t]=n.substr(Math.floor(Math.random()*16),1);return e.join("")+p()}function b(e,n){const t=new Date(e),o=new Date,c=new Date(e).setHours(0,0,0,0),T=new Date().setHours(0,0,0,0),g=c-T;let u="";const y=C(t);return g===0?u=n.today:g===-864e5?u=n.yesterday:u=R(t,t.getFullYear()!==o.getFullYear()),`${u} ${y}`}function R(e,n=!0){const t=e.getFullYear(),o=e.getMonth()+1,c=e.getDate();return n?`${t}-${r(o)}-${r(c)}`:`${r(o)}-${r(c)}`}function C(e){const n=e.getHours(),t=e.getMinutes();return`${r(n)}:${r(t)}`}function r(e){return e=e.toString(),e.length===1?"0"+e:e}function Y(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}const E={gc:_,setRefesrherTime:D,getRefesrherFormatTimeByKey:N,getTouch:$,getTouchFromZPaging:m,getParent:d,convertToPx:P,getTime:p,getInstanceId:S,consoleErr:z};exports.u=E;
