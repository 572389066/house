"use strict";const o=require("../../../../../../common/vendor.js"),i=require("../z-paging-utils.js"),t=require("../z-paging-enum.js"),a={props:{autoHideLoadingAfterFirstLoaded:{type:Boolean,default:i.u.gc("autoHideLoadingAfterFirstLoaded",!0)},loadingFullFixed:{type:Boolean,default:i.u.gc("loadingFullFixed",!1)},autoShowSystemLoading:{type:Boolean,default:i.u.gc("autoShowSystemLoading",!1)},systemLoadingMask:{type:Boolean,default:i.u.gc("systemLoadingMask",!0)},systemLoadingText:{type:[String,Object],default:i.u.gc("systemLoadingText",null)}},data(){return{loading:!1,loadingForNow:!1}},watch:{loadingStatus(e){this.$emit("loadingStatusChange",e),this.$nextTick(()=>{this.loadingStatusAfterRender=e})},loading(e){e&&(this.loadingForNow=e)}},computed:{showLoading(){return this.firstPageLoaded||!this.loading||!this.loadingForNow?!1:(this.finalShowSystemLoading&&o.index.showLoading({title:this.finalSystemLoadingText,mask:this.systemLoadingMask}),this.autoHideLoadingAfterFirstLoaded?this.fromEmptyViewReload?!0:!this.pagingLoaded:this.loadingType===t.Enum.LoadingType.Refresher)},finalShowSystemLoading(){return this.autoShowSystemLoading&&this.loadingType===t.Enum.LoadingType.Refresher}},methods:{_startLoading(e=!1){(this.showLoadingMoreWhenReload&&!this.isUserPullDown||!e)&&(this.loadingStatus=t.Enum.More.Loading),this.loading=!0},_endSystemLoadingAndRefresh(){this.finalShowSystemLoading&&o.index.hideLoading(),!this.useCustomRefresher&&o.index.stopPullDownRefresh()}}};exports.loadingModule=a;
