import{U as i,C as t,n as e,o as s,c as a,w as l,i as n,a as u,d as c,t as d}from"./index.50f83746.js";import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";const h=o({data:()=>({buildingId:"",scene:"",buildingDetail:null}),onLoad(i){this.buildingId=i.buildingId,this.scene=i.scene,this.fetchBuilding(),this.checkLogin()},methods:{fetchBuilding(){this.$api.fetchBuildingDetail(this.buildingId).then((i=>{this.buildingDetail=i})).catch((i=>{}))},submitCustomCheck(){this.$api.submitCustomCheck(this.scene).then((t=>{this.$msg("提交成功"),setTimeout((()=>{i()}),500)})).catch((i=>{}))},checkLogin(){let i=t.getToken();return!(!i||""==i)||(e({url:"/pages/login/login"}),!1)}}},[["render",function(i,t,e,o,h,g){const m=n;return s(),a(m,{class:"signin"},{default:l((()=>[u(m,{class:"cont"},{default:l((()=>[h.buildingDetail?(s(),a(m,{key:0,class:"title"},{default:l((()=>[c(d(h.buildingDetail.name),1)])),_:1})):(s(),a(m,{key:1,class:"title"})),u(m,{class:"submit",onClick:t[0]||(t[0]=i=>g.submitCustomCheck())},{default:l((()=>[u(m,null,{default:l((()=>[c("签到登记")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-f6b94559"]]);export{h as default};
