import{n as a,C as e,o as l,c as s,w as t,i,a as n,b as r,r as c,F as o,d,e as u,f as g,S as m,g as f,h as p,t as _,j as h,k as B,l as v}from"./index.50f83746.js";import{_ as k}from"./Search.cde288a2.js";import{r as y}from"./uni-app.es.c352a98c.js";import{_ as D}from"./z-paging.6450377e.js";import{H as S}from"./Head.1f5eabe6.js";import{u as b}from"./urlUtil.7c805a33.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./search.b6584a89.js";import"./address.57f6259c.js";const w=j({components:{Head:S,Search:k},data:()=>({imageBannerData:[],videoBannerData:[],recommendBuildingData:[],wx:{}}),onShow(){},onLoad(){this.fetchBanner()},methods:{getImageUrl:a=>b.getImgUrlNotSize(a),isVideoBanner:a=>b.isVideo(a),onItemClick(e){a({url:"/pages/pfs/detail?id="+e.id})},onClickScan(){this.checkLogin()&&a({url:"/pages/register/scan"})},getDisplayAddress(a){let e="";return a&&(a.province&&(e=a.province),a.city&&(e+=a.city),a.district&&(e+=a.district),a.address&&(e+=a.address)),e},fetchBanner(){this.$api.getBanner().then((a=>{this.imageBannerData=a.imgBanner,this.videoBannerData=a.videoBanner})).catch((a=>{console.log("getBanner err: "+JSON.stringify(a))}))},fetchRecommendBuilding(a,e){this.$api.fetchBuildingList(a,e,"","",!0).then((a=>{this.$refs.paging.complete(a)})).catch((a=>{this.$refs.paging.complete(!1)}))},checkLogin(){let l=e.getToken();return!(!l||""==l)||(a({url:"/pages/login/login"}),!1)}}},[["render",function(a,e,S,b,j,w){const I=y(u("Search"),k),C=i,F=g,U=B,x=m,V=f,L=p,$=v,z=y(u("z-paging"),D);return l(),s(C,{class:"home"},{default:t((()=>[n(z,{ref:"paging",modelValue:j.recommendBuildingData,"onUpdate:modelValue":e[3]||(e[3]=a=>j.recommendBuildingData=a),onQuery:w.fetchRecommendBuilding},{top:t((()=>[n(C,null,{default:t((()=>[n(I)])),_:1})])),default:t((()=>[n(C,{class:"cont"},{default:t((()=>[n(C,{class:"banner"},{default:t((()=>[n(x,{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:2e3,duration:500,"indicator-color":"rgba(0,0,0,.1)","indicator-active-color":"#fff"},{default:t((()=>[(l(!0),r(o,null,c(j.imageBannerData,((a,e)=>(l(),s(U,{class:"swiper-item",key:e},{default:t((()=>[n(F,{src:w.getImageUrl(a.img_url),mode:"aspectFill",class:"img"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),n(C,{class:"main"},{default:t((()=>[n(L,{class:"li","hover-class":"none",url:"/pages/star/star"},{default:t((()=>[n(C,null,{default:t((()=>[d("明星楼盘")])),_:1}),n(V,null,{default:t((()=>[d("star")])),_:1}),n(F,{src:"/assets/main1.89517e61.png",mode:"widthFix"})])),_:1}),n(C,{class:"li","hover-class":"none",onClick:e[0]||(e[0]=a=>w.onClickScan())},{default:t((()=>[n(C,null,{default:t((()=>[d("扫码登记")])),_:1}),n(V,null,{default:t((()=>[d("go")])),_:1}),n(F,{src:"/assets/main2.9724099d.png",mode:"widthFix"})])),_:1}),n(L,{class:"li","hover-class":"none",url:"/pages/activities/activities"},{default:t((()=>[n(C,null,{default:t((()=>[d("项目活动")])),_:1}),n(V,null,{default:t((()=>[d("see")])),_:1}),n(F,{src:"/assets/main3.3cee8284.png",mode:"widthFix"})])),_:1})])),_:1}),n(C,{class:"video"},{default:t((()=>[n(x,{class:"swiper",circular:"","indicator-dots":!1,autoplay:!0,interval:2e3,duration:500,"indicator-color":"rgba(0,0,0,.1)","indicator-active-color":"#fff"},{default:t((()=>[(l(!0),r(o,null,c(j.videoBannerData,((i,n)=>(l(),s(U,{class:"swiper-item",key:n},{default:t((()=>[w.isVideoBanner(i.img_url)?(l(),s($,{key:0,id:"banenrVideo",src:w.getImageUrl(i.img_url),onPlay:e[1]||(e[1]=e=>a.BoFang()),onPause:e[2]||(e[2]=e=>a.ZanTing()),controls:""},null,8,["src"])):(l(),s(F,{key:1,src:w.getImageUrl(i.img_url),mode:"aspectFill",class:"img"},null,8,["src"]))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),n(C,{class:"list"},{default:t((()=>[n(C,{class:"title"},{default:t((()=>[d("热盘推荐")])),_:1}),n(C,{class:"ul"},{default:t((()=>[(l(!0),r(o,null,c(j.recommendBuildingData,((a,e)=>(l(),s(C,{class:"li",onClick:e=>w.onItemClick(a)},{default:t((()=>[n(F,{src:w.getImageUrl(a.pic),mode:"aspectFill"},null,8,["src"]),n(C,{class:"bg"},{default:t((()=>[n(C,{class:"label"},{default:t((()=>["preSale"===a.status?(l(),s(C,{key:0,class:"active"},{default:t((()=>[d("预售")])),_:1})):"onSale"===a.status?(l(),s(C,{key:1,class:"active"},{default:t((()=>[d("在售")])),_:1})):(l(),s(C,{key:2,class:"active"},{default:t((()=>[d("售罄")])),_:1})),(l(!0),r(o,null,c(a.tags,((a,e)=>(l(),r(o,null,[a&&""!=a?(l(),s(C,{key:0},{default:t((()=>[d(_(a),1)])),_:2},1024)):h("",!0)],64)))),256))])),_:2},1024),n(C,{class:"add"},{default:t((()=>[n(C,null,{default:t((()=>[d(_(a.name),1)])),_:2},1024),n(C,null,{default:t((()=>[d("约"+_(a.price)+"起元/㎡",1)])),_:2},1024),n(C,null,{default:t((()=>[d(_(w.getDisplayAddress(a)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})])),_:1},8,["modelValue","onQuery"])])),_:1})}],["__scopeId","data-v-11d9baf3"]]);export{w as default};
