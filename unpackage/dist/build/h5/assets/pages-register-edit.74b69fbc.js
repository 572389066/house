import{R as e,C as a,U as s,o as t,c as l,w as r,i as u,a as d,d as n,t as o,I as i,V as h,W as p}from"./index.50f83746.js";import{_ as c}from"./_plugin-vue_export-helper.cdc0426e.js";const m=c({data:()=>({type:1,userCard:null}),onLoad(a){const{type:s}=a;this.type=s,e({title:1==s?"我的名片":"编辑名片"}),this.fetchUserCard()},methods:{getDisplayInputValue(e){return"name"===e&&this.userCard&&this.userCard.name?this.userCard.name:"phone"===e?this.userCard&&this.userCard.phone?this.userCard.phone:a.getPhone():"company"===e&&this.userCard&&this.userCard.company?this.userCard.company:"address"===e&&this.userCard&&this.userCard.address?this.userCard.address:""},fetchUserCard(){this.$api.fetchUserCard().then((e=>{this.userCard=e,console.log("fetchUserCard result: "+JSON.stringify(e))})).catch((e=>{console.log("fetchUserCard err: "+JSON.stringify(e))}))},submitUserCard(e){let a=e.detail.value.name,t=e.detail.value.phone,l=e.detail.value.company,r=e.detail.value.address;0!==a.length?0!==t.length?11==t.length?this.$api.submitUserCard(a,t,l,r).then((e=>{this.$msg("提交成功"),s()})).catch((e=>{})):this.$msg("请输入正确的手机号"):this.$msg("请输入手机号"):this.$msg("请输入联系人")}}},[["render",function(e,a,s,c,m,f){const y=u,C=i,_=h,g=p;return t(),l(y,{class:"edit"},{default:r((()=>[d(g,{onSubmit:f.submitUserCard},{default:r((()=>[d(y,{class:"cont"},{default:r((()=>[d(y,{class:"ul"},{default:r((()=>[d(y,{class:"li"},{default:r((()=>[d(y,null,{default:r((()=>[n("联系人")])),_:1}),d(C,{type:"text",name:"name",placeholder:"请填写姓名","placeholder-style":"color: #BFBFBF",value:f.getDisplayInputValue("name")},null,8,["value"])])),_:1}),d(y,{class:"li"},{default:r((()=>[d(y,null,{default:r((()=>[n("手机号")])),_:1}),d(C,{type:"number",name:"phone",placeholder:"请填写手机号",maxlength:"11","placeholder-style":"color: #BFBFBF",value:f.getDisplayInputValue("phone"),disabled:"true"},null,8,["value"])])),_:1}),d(y,{class:"li"},{default:r((()=>[d(y,null,{default:r((()=>[n("所属公司")])),_:1}),d(C,{type:"text",name:"company",placeholder:"请填写公司","placeholder-style":"color: #BFBFBF",value:f.getDisplayInputValue("company")},null,8,["value"])])),_:1}),d(y,{class:"li"},{default:r((()=>[d(y,null,{default:r((()=>[n("所属部门")])),_:1}),d(C,{type:"text",name:"address",placeholder:"请填写所属部门","placeholder-style":"color: #BFBFBF",value:f.getDisplayInputValue("address")},null,8,["value"])])),_:1})])),_:1})])),_:1}),d(y,{class:"common_bottom"},{default:r((()=>[d(_,{"form-type":"submit"},{default:r((()=>[n(o(1==m.type?"确认":"保存并使用"),1)])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})}],["__scopeId","data-v-44bb4309"]]);export{m as default};
