import{ad as e,a6 as s,U as n,o as t,c as a,i as r}from"./index.50f83746.js";import{_ as i}from"./_plugin-vue_export-helper.cdc0426e.js";const c=i({data:()=>({scanResult:""}),onLoad(){this.scanCode()},methods:{scanCode(){let t=this;e({scanType:["WX_CODE"],success:e=>{console.log("scanCode success----------------\x3e>>"+JSON.stringify(e)),t.scanResult=e.path;let n=t.getPageParams(e.path),a=t.getPageName(e.path);console.log("scanCode success----------------\x3e>>"+a),console.log("scanCode params----------------\x3e>>"+JSON.stringify(n)),n&&n.buildingId&&n.scene?"/signIn"==a?s({url:"/pages/register/signIn?buildingId="+n.buildingId+"&scene="+n.scene}):"/register"==a?s({url:"/pages/register/register?buildingId="+n.buildingId+"&scene="+n.scene}):t.scanCode():t.scanCode()},fail:e=>{t.scanResult="",n()},complete:()=>{}})},getPageParams(e){if(e&&""!=e){let s=e.indexOf("?");return-1==s&&(s=0),e.substring(s+1,e.length).split("&").map((e=>e.split("="))).reduce(((e,s)=>{const[n,t]=s;return e[n]=t,e}),{})}return null},getPageName(e){let s=e.indexOf("?"),n=e.lastIndexOf("/");return n>=0?s>0?e.substring(n,s):e:s>0?e.substring(s):e}}},[["render",function(e,s,n,i,c,g){const l=r;return t(),a(l)}]]);export{c as default};
