"use strict";const e=require("../../common/vendor.js"),n={data:()=>({scanResult:""}),onLoad(){this.scanCode()},methods:{scanCode(){let n=this;e.index.scanCode({scanType:["WX_CODE"],success:s=>{n.scanResult=s.path;let t=n.getPageParams(s.path),r=n.getPageName(s.path);t&&t.buildingId&&t.scene?"/signIn"==r?e.index.redirectTo({url:"/pages/register/signIn?buildingId="+t.buildingId+"&scene="+t.scene}):"/register"==r?e.index.redirectTo({url:"/pages/register/register?buildingId="+t.buildingId+"&scene="+t.scene}):n.scanCode():n.scanCode()},fail:s=>{n.scanResult="",e.index.navigateBack()},complete:()=>{}})},getPageParams(e){if(e&&""!=e){let n=e.indexOf("?");return-1==n&&(n=0),e.substring(n+1,e.length).split("&").map((e=>e.split("="))).reduce(((e,n)=>{const[s,t]=n;return e[s]=t,e}),{})}return null},getPageName(e){let n=e.indexOf("?"),s=e.lastIndexOf("/");return s>=0?n>0?e.substring(s,n):e:n>0?e.substring(n):e}}};const s=e._export_sfc(n,[["render",function(e,n,s,t,r,i){return{}}]]);wx.createPage(s);
