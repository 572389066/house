"use strict";const e=require("../../common/vendor.js"),s={data:()=>({scanResult:""}),onLoad(){this.scanCode()},methods:{scanCode(){let s=this;e.wx$1.scanCode({success:n=>{console.log("scanCode: success"+JSON.stringify(n));let t=decodeURIComponent(n.path);s.scanResult=t;let i=s.getPageParams(t),r=s.getPageName(t);console.log("scanCode params: "+JSON.stringify(i)),console.log("scanCode pageName: "+JSON.stringify(r)),i&&i.buildingId&&i.scene?"/signIn"==r?e.index.redirectTo({url:"/pages/register/signIn?buildingId="+i.buildingId+"&scene="+i.scene}):"/register"==r?e.index.redirectTo({url:"/pages/register/register?buildingId="+i.buildingId+"&scene="+i.scene}):s.scanCode():s.scanCode()},fail:n=>{console.log("scanCode: fail"+JSON.stringify(n)),s.scanResult="",e.index.navigateBack()},complete:()=>{}})},getPageParams(e){if(e&&""!=e){let s=e.indexOf("?");return-1==s&&(s=0),e.substring(s+1,e.length).split("&").map((e=>e.split("="))).reduce(((e,s)=>{const[n,t]=s;return e[n]=t,e}),{})}return null},getPageName(e){let s=e.indexOf("?"),n=e.lastIndexOf("/");return n>=0?s>0?e.substring(n,s):e:s>0?e.substring(s):e}}};const n=e._export_sfc(s,[["render",function(e,s,n,t,i,r){return{}}]]);wx.createPage(n);
