"use strict";const i=require("../../common/vendor.js"),e=require("../../utils/cache.js"),t={data:()=>({buildingId:"",scene:"",buildingDetail:null}),onLoad(i){this.buildingId=i.buildingId,this.scene=i.scene,this.fetchBuilding(),this.checkLogin()},methods:{fetchBuilding(){this.$api.fetchBuildingDetail(this.buildingId).then((i=>{this.buildingDetail=i})).catch((i=>{}))},submitCustomCheck(){this.$api.submitCustomCheck(this.scene).then((e=>{this.$msg("提交成功"),setTimeout((()=>{i.index.switchTab({url:"/pages/index/index"})}),500)})).catch((i=>{}))},checkLogin(){let t=e.cache.getToken();return!(!t||""==t)||(i.index.navigateTo({url:"/pages/login/login"}),!1)}}};const n=i._export_sfc(t,[["render",function(e,t,n,s,c,u){return i.e({a:c.buildingDetail},c.buildingDetail?{b:i.t(c.buildingDetail.name)}:{},{c:i.o((i=>u.submitCustomCheck()))})}],["__scopeId","data-v-846f438a"]]);wx.createPage(n);
