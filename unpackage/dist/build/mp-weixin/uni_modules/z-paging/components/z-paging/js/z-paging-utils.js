"use strict";const e=require("../../../../../common/vendor.js"),t=require("./z-paging-config.js"),n=require("../config/index.js"),o="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let r=null;function c(){return e.index.getStorageSync(o)}function i(){return(new Date).getTime()}function u(e){return 1===(e=e.toString()).length?"0"+e:e}const a={gc:function(e,o){if(!r)if(n.zLocalConfig&&Object.keys(n.zLocalConfig).length)r=n.zLocalConfig;else{const e=t.zConfig.getConfig();t.zConfig&&e&&(r=e)}if(!r)return o;const c=r[function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e)];return void 0===c?o:c},setRefesrherTime:function(t,n){const r=c()||{};r[n]=t,e.index.setStorageSync(o,r)},getRefesrherFormatTimeByKey:function(e,t){const n=function(e){const t=c();return t&&t[e]?t[e]:null}(e),o=n?function(e,t){const n=new Date(e),o=new Date,r=new Date(e).setHours(0,0,0,0),c=(new Date).setHours(0,0,0,0),i=r-c;let a="";const s=function(e){const t=e.getHours(),n=e.getMinutes();return`${u(t)}:${u(n)}`}(n);a=0===i?t.today:-864e5===i?t.yesterday:function(e,t=!0){const n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate();return t?`${n}-${u(o)}-${u(r)}`:`${u(o)}-${u(r)}`}(n,n.getFullYear()!==o.getFullYear());return`${a} ${s}`}(n,t):t.none;return`${t.title}${o}`},getTouch:function(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else{if(!e.datail||e.datail=={})return{touchX:0,touchY:0};t=e.datail}return{touchX:t.clientX,touchY:t.clientY}},getTouchFromZPaging:function e(t){if(t&&t.tagName&&"BODY"!==t.tagName&&"UNI-PAGE-BODY"!==t.tagName){const n=t.classList;return n&&n.contains("z-paging-content")?{isFromZp:!0,isPageScroll:n.contains("z-paging-content-page"),isReachedTop:n.contains("z-paging-reached-top")}:e(t.parentNode)}return{isFromZp:!1}},getParent:function e(t){return t?t.$refs.paging?t:e(t.$parent):null},convertToPx:function(t){if("[object Number]"===Object.prototype.toString.call(t))return t;let n=!1;return-1!==t.indexOf("rpx")||-1!==t.indexOf("upx")?(t=t.replace("rpx","").replace("upx",""),n=!0):-1!==t.indexOf("px")&&(t=t.replace("px","")),isNaN(t)?0:Number(n?e.index.upx2px(t):t)},getTime:i,getInstanceId:function(){const e=[];for(let t=0;t<10;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e.join("")+i()},consoleErr:function(e){console.error(`[z-paging]${e}`)}};exports.u=a;
